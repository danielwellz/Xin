# Docker Compose environment template (local prod-like stack)
# Copy to config/.env.docker and adjust as needed before running
# `docker compose --env-file config/.env.docker up`.

########################################
# Database
########################################
POSTGRES_DB=chatbot
POSTGRES_USER=chatbot
POSTGRES_PASSWORD=dev-password
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

########################################
# Redis / Streams
########################################
REDIS_URL=redis://redis:6379/0

########################################
# Vector store
########################################
QDRANT_URL=http://qdrant:6333
QDRANT_API_KEY=

########################################
# Object storage (MinIO)
########################################
STORAGE_ENDPOINT_URL=http://minio:9000
STORAGE_REGION=us-east-1
STORAGE_BUCKET=brand-knowledge
STORAGE_ACCESS_KEY=dev-minio
STORAGE_SECRET_KEY=dev-minio-secret
MINIO_ROOT_USER=dev-minio
MINIO_ROOT_PASSWORD=dev-minio-secret

########################################
# Ingestion worker
########################################
INGEST_REDIS_HOST=redis
INGEST_REDIS_PORT=6379
INGEST_REDIS_DB=0
INGEST_REDIS_PASSWORD=
INGEST_QUEUE_NAME=ingestion
INGEST_POSTGRES_DSN=postgresql://chatbot:dev-password@postgres:5432/chatbot
INGEST_MINIO_ENDPOINT_URL=http://minio:9000
INGEST_MINIO_ACCESS_KEY=dev-minio
INGEST_MINIO_SECRET_KEY=dev-minio-secret
INGEST_QDRANT_URL=http://qdrant:6333
INGEST_QDRANT_API_KEY=
INGEST_METRICS_PORT=9103

########################################
# Channel gateway
########################################
GATEWAY_ORCHESTRATOR_URL=http://orchestrator:8000
GATEWAY_INSTAGRAM_SECRET=dev-instagram
GATEWAY_WHATSAPP_SECRET=dev-whatsapp
GATEWAY_TELEGRAM_SECRET=dev-telegram
GATEWAY_WEB_SECRET=dev-web
GATEWAY_INSTAGRAM_TOKEN=dev-instagram-token
GATEWAY_WHATSAPP_TOKEN=dev-whatsapp-token
GATEWAY_TELEGRAM_TOKEN=dev-telegram-token
GATEWAY_REDIS__HOST=redis
GATEWAY_REDIS__PORT=6379
GATEWAY_REDIS__DB=0

########################################
# LLM / embeddings
########################################
LLM_PROVIDER=openai
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4.1-mini
OPENAI_EMBEDDING_MODEL=text-embedding-3-large

########################################
# Admin auth / console
########################################
ADMIN_JWT_SECRET=dev-admin-secret
ADMIN_ISSUER=xin-admin
ADMIN_AUDIENCE=xin-platform
ADMIN_ACCESS_TOKEN_TTL_MINUTES=60

########################################
# Telemetry
########################################
OTEL_EXPORTER_OTLP_ENDPOINT=http://tempo:4317
LOG_LEVEL=INFO
AUTOMATION_METRICS_PORT=9105

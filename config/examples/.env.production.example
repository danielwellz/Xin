# Production environment template for xinbot.ir
# Copy to /opt/xin-chatbot/config/.env.production on the VPS and
# update every secret before deploying.

########################################
# Core settings
########################################
APP_ENV=production
LOG_LEVEL=INFO
PUBLIC_DOMAIN=xinbot.ir

########################################
# Database (managed Postgres or container)
########################################
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=chatbot
POSTGRES_USER=chatbot_prod
POSTGRES_PASSWORD=CHANGE_ME
POSTGRES_SSLMODE=prefer

########################################
# Redis / Streams
########################################
REDIS_URL=redis://redis:6379/0

########################################
# Vector store (Qdrant)
########################################
QDRANT_URL=http://qdrant:6333
QDRANT_API_KEY=CHANGE_ME

########################################
# Object storage (S3 / MinIO)
########################################
STORAGE_ENDPOINT_URL=https://s3.example.com
STORAGE_REGION=us-east-1
STORAGE_BUCKET=xinbot-knowledge
STORAGE_ACCESS_KEY=CHANGE_ME
STORAGE_SECRET_KEY=CHANGE_ME

########################################
# Ingestion worker
########################################
INGEST_REDIS_HOST=redis
INGEST_REDIS_PORT=6379
INGEST_REDIS_DB=0
INGEST_REDIS_PASSWORD=
INGEST_QUEUE_NAME=ingestion
INGEST_POSTGRES_DSN=postgresql://chatbot_prod:CHANGE_ME@postgres:5432/chatbot
INGEST_MINIO_ENDPOINT_URL=https://s3.example.com
INGEST_MINIO_ACCESS_KEY=CHANGE_ME
INGEST_MINIO_SECRET_KEY=CHANGE_ME
INGEST_QDRANT_URL=http://qdrant:6333
INGEST_QDRANT_API_KEY=CHANGE_ME
INGEST_METRICS_PORT=9103

########################################
# Channel gateway secrets/tokens
########################################
GATEWAY_ORCHESTRATOR_URL=http://orchestrator:8000
GATEWAY_INSTAGRAM_SECRET=CHANGE_ME
GATEWAY_WHATSAPP_SECRET=CHANGE_ME
GATEWAY_TELEGRAM_SECRET=CHANGE_ME
GATEWAY_WEB_SECRET=CHANGE_ME
GATEWAY_INSTAGRAM_TOKEN=CHANGE_ME
GATEWAY_WHATSAPP_TOKEN=CHANGE_ME
GATEWAY_TELEGRAM_TOKEN=CHANGE_ME
GATEWAY_REDIS__HOST=redis
GATEWAY_REDIS__PORT=6379
GATEWAY_REDIS__DB=0

########################################
# LLM / embeddings
########################################
LLM_PROVIDER=openai
OPENAI_API_KEY=CHANGE_ME
OPENAI_MODEL=gpt-4.1-mini
OPENAI_EMBEDDING_MODEL=text-embedding-3-large
OPENROUTER_API_KEY=

########################################
# Admin auth / operator console
########################################
ADMIN_JWT_SECRET=CHANGE_ME
ADMIN_ISSUER=xin-admin
ADMIN_AUDIENCE=xin-platform
ADMIN_ACCESS_TOKEN_TTL_MINUTES=60

########################################
# Observability / TLS
########################################
OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4317
OTEL_EXPORTER_OTLP_HEADERS=
TLS_CONTACT_EMAIL=ops@xinbot.ir
AUTOMATION_METRICS_PORT=9105

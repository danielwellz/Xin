# Copy this file to `.env.local` for Poetry-based development
# (uvicorn, scripts, tests). Docker Compose uses the files under `config/`.

########################################
# Base application behaviour
########################################
APP_ENV=local
LOG_LEVEL=INFO
PYTHONPATH=.

########################################
# Database (Postgres)
########################################
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=chatbot
POSTGRES_USER=chatbot
POSTGRES_PASSWORD=local-password
POSTGRES_SSLMODE=prefer

########################################
# Redis / Streams / Queues
########################################
REDIS_URL=redis://localhost:6379/0
INGEST_REDIS_HOST=localhost
INGEST_REDIS_PORT=6379
INGEST_REDIS_DB=0
INGEST_REDIS_PASSWORD=
INGEST_QUEUE_NAME=ingestion

########################################
# Vector store (Qdrant)
########################################
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=
QDRANT_TIMEOUT_SECONDS=10

########################################
# Object storage for knowledge uploads
########################################
STORAGE_ENDPOINT_URL=http://localhost:9000
STORAGE_REGION=us-east-1
STORAGE_BUCKET=brand-knowledge
STORAGE_ACCESS_KEY=minio
STORAGE_SECRET_KEY=local-minio-secret

########################################
# LLM + embeddings
########################################
LLM_PROVIDER=openai
LLM_TEMPERATURE=0.2
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4.1-mini
OPENAI_EMBEDDING_MODEL=text-embedding-3-large
OPENROUTER_API_KEY=
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1

########################################
# Admin auth / operator console (JWT)
########################################
ADMIN_JWT_SECRET=dev-admin-secret
ADMIN_ISSUER=xin-admin
ADMIN_AUDIENCE=xin-platform
ADMIN_ACCESS_TOKEN_TTL_MINUTES=60

########################################
# Channel gateway secrets + provider tokens
########################################
GATEWAY_ORCHESTRATOR_URL=http://localhost:8000
GATEWAY_INSTAGRAM_SECRET=dev-instagram
GATEWAY_WHATSAPP_SECRET=dev-whatsapp
GATEWAY_TELEGRAM_SECRET=dev-telegram
GATEWAY_WEB_SECRET=dev-web
GATEWAY_INSTAGRAM_TOKEN=dev-instagram-token
GATEWAY_WHATSAPP_TOKEN=dev-whatsapp-token
GATEWAY_TELEGRAM_TOKEN=dev-telegram-token
GATEWAY_REDIS__HOST=localhost
GATEWAY_REDIS__PORT=6379
GATEWAY_REDIS__DB=0

########################################
# Observability
########################################
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_EXPORTER_OTLP_HEADERS=
OTEL_METRICS_PORT=

########################################
# Automation worker
########################################
AUTOMATION_METRICS_PORT=9105
